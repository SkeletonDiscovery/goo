<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Онлайн Цезаров Шифър</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
    }
    textarea {
        width: 80%;
        height: 100px;
        margin: 10px 0;
        padding: 10px;
        font-size: 16px;
    }
    input[type="text"] {
        width: 60%;
        padding: 10px;
        font-size: 16px;
    }
    button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
    }
</style>
</head>
<body>
    <h2>Онлайн Цезаров Шифър</h2>
    <label for="keyword">Въведете ключовата дума: </label>
    <input type="text" id="keyword" placeholder="Въведете ключовата дума"><br><br>
    <label for="message">Въведете съобщението за криптиране/декриптиране: </label>
    <textarea id="message" placeholder="Въведете съобщението"></textarea><br><br>
    <button onclick="encrypt()">Криптиране</button>
    <button onclick="decrypt()">Декриптиране</button><br><br>
    <p id="result"></p>

    <script>
        // Функция за криптиране с Цезаров шифър
        function encrypt() {
            var keyword = document.getElementById('keyword').value.toUpperCase();
            var message = document.getElementById('message').value.toUpperCase();
            var encryptedMessage = '';
            var shift = keyword.length; // Числото, с което ще се измества

            for (var i = 0; i < message.length; i++) {
                var charCode = message.charCodeAt(i);

                // Проверка дали символът е буква от A до Z
                if (charCode >= 65 && charCode <= 90) {
                    var shiftedCharCode = ((charCode - 65 + shift) % 26) + 65;
                    encryptedMessage += String.fromCharCode(shiftedCharCode);
                } else {
                    encryptedMessage += message.charAt(i); // Запазване на не-буквени символи
                }
            }

            document.getElementById('result').innerText = 'Криптирано съобщение: ' + encryptedMessage;
        }

        // Функция за декриптиране с Цезаров шифър (противоположно на криптирането)
        function decrypt() {
            var keyword = document.getElementById('keyword').value.toUpperCase();
            var message = document.getElementById('message').value.toUpperCase();
            var decryptedMessage = '';
            var shift = keyword.length; // Числото, с което ще се измества

            for (var i = 0; i < message.length; i++) {
                var charCode = message.charCodeAt(i);

                // Проверка дали символът е буква от A до Z
                if (charCode >= 65 && charCode <= 90) {
                    var shiftedCharCode = ((charCode - 65 - shift + 26) % 26) + 65;
                    decryptedMessage += String.fromCharCode(shiftedCharCode);
                } else {
                    decryptedMessage += message.charAt(i); // Запазване на не-буквени символи
                }
            }

            document.getElementById('result').innerText = 'Декриптирано съобщение: ' + decryptedMessage;
        }
    </script>
</body>
</html>
